<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Редактировать фильм</title>
  <link rel="stylesheet" href="/style.css">
</head>
<body>
<h1>Редактировать фильм</h1>
<form th:action="@{/films/edit}" th:object="${film}" method="post">
  <input type="hidden" th:field="*{filmId}" />
  <div>
    <label for="name">Название:</label>
    <input type="text" id="name" th:field="*{name}" required/>
    <span th:if="${#fields.hasErrors('name')}" th:errors="*{name}">Ошибка в названии</span>
  </div>
  <div>
    <label for="description">Описание:</label>
    <textarea id="description" th:field="*{description}" required></textarea>
    <span th:if="${#fields.hasErrors('description')}" th:errors="*{description}">Ошибка в описании</span>
  </div>
  <div>
    <label for="duration">Длительность (мин):</label>
    <input type="number" id="duration" th:field="*{duration}" required/>
    <span th:if="${#fields.hasErrors('duration')}" th:errors="*{duration}">Ошибка в длительности</span>
  </div>
  <div>
    <label for="releaseDate">Дата выпуска:</label>
    <input type="date" id="releaseDate" th:field="*{releaseDate}" required />
    <span th:if="${#fields.hasErrors('releaseDate')}" th:errors="*{releaseDate}">Ошибка в дате выпуска</span>
  </div>
  <div>
    <label>Жанры:</label>
    <div th:each="genre : ${allGenres}">
      <input type="checkbox" th:field="*{genres}" th:value="${genre.genreId}" /> <span th:text="${genre.genre}">Жанр</span>
    </div>
  </div>
  <div>
    <label>Актеры:</label>
    <div th:each="actor : ${allActors}">
      <input type="checkbox" th:field="*{actors}" th:value="${actor.actorId}" /> <span th:text="${actor.name}">Актер</span>
    </div>
  </div>
  <div>
    <label>Режиссеры:</label>
    <div th:each="director : ${allDirectors}">
      <input type="checkbox" th:field="*{directors}" th:value="${director.directorId}" /> <span th:text="${director.name}">Режиссер</span>
    </div>
  </div>
  <div>
    <button type="submit">Сохранить изменения</button>
    <a th:href="@{/films}">Отмена</a>
  </div>
</form>
</body>
</html>



