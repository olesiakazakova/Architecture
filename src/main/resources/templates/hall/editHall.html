<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ª–∞</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
  <style>
    body {
        background-color: #f8f9fa;
        padding: 0;
        margin: 0;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    nav {
        background: linear-gradient(135deg, #343a40, #495057);
        padding: 1rem 0;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        margin-bottom: 30px;
    }

    nav a {
        color: white;
        text-decoration: none;
        padding: 0.5rem 1.5rem;
        margin: 0 0.5rem;
        border-radius: 5px;
        transition: all 0.3s ease;
        font-weight: 500;
    }

    nav a:hover {
        background-color: rgba(255,255,255,0.1);
        transform: translateY(-2px);
    }

    .form-container {
        max-width: 600px;
        margin: 0 auto;
        background: white;
        padding: 30px;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    h1 {
        text-align: center;
        margin-bottom: 30px;
        color: #343a40;
        border-bottom: 2px solid #e9ecef;
        padding-bottom: 15px;
    }

    .form-group {
        margin-bottom: 25px;
    }

    label {
        font-weight: bold;
        color: #495057;
        margin-bottom: 10px;
        display: block;
        font-size: 1.1rem;
    }

    input[type="text"],
    input[type="number"],
    select,
    textarea {
        width: 100%;
        padding: 12px;
        border: 1px solid #ced4da;
        border-radius: 5px;
        font-size: 1rem;
        transition: border-color 0.3s;
    }

    input[type="text"]:focus,
    input[type="number"]:focus,
    select:focus,
    textarea:focus {
        border-color: #6f42c1;
        outline: none;
        box-shadow: 0 0 0 3px rgba(111,66,193,0.1);
    }

    input[readonly] {
        background-color: #f8f9fa;
        color: #6c757d;
    }

    .checkbox-group {
        display: flex;
        gap: 20px;
        margin-top: 10px;
    }

    .checkbox-item {
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .checkbox-item input[type="checkbox"] {
        width: auto;
        transform: scale(1.2);
    }

    .checkbox-item label {
        font-weight: normal;
        margin-bottom: 0;
        cursor: pointer;
    }

    .btn {
        padding: 12px 24px;
        border-radius: 5px;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.3s ease;
        border: none;
        text-decoration: none;
        display: inline-block;
        text-align: center;
        font-size: 1rem;
    }

    .btn-primary {
        background: linear-gradient(135deg, #6f42c1, #59359d);
        color: white !important;
    }

    .btn-primary:hover {
        background: linear-gradient(135deg, #59359d, #4a2d82);
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(111,66,193,0.3);
    }

    .btn-secondary {
        background: linear-gradient(135deg, #6c757d, #545b62);
        color: white !important;
    }

    .btn-secondary:hover {
        background: linear-gradient(135deg, #545b62, #3d4246);
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(108,117,125,0.3);
    }

    .btn-group {
        display: flex;
        gap: 15px;
        justify-content: center;
        margin-top: 30px;
        padding-top: 20px;
        border-top: 1px solid #e9ecef;
    }

    .alert {
        padding: 12px 15px;
        border-radius: 5px;
        margin-bottom: 20px;
    }

    .alert-error {
        background-color: #f8d7da;
        color: #721c24;
        border: 1px solid #f5c6cb;
    }

    .current-hall-info {
        background: #f8f9fa;
        padding: 20px;
        border-radius: 8px;
        margin-bottom: 25px;
        border-left: 4px solid #6c757d;
    }

    .current-hall-info h3 {
        margin-top: 0;
        margin-bottom: 15px;
        color: #495057;
        font-size: 1.1rem;
    }

    .info-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
    }

    .info-item {
        display: flex;
        flex-direction: column;
    }

    .info-label {
        font-size: 0.875rem;
        color: #6c757d;
        margin-bottom: 4px;
    }

    .info-value {
        font-weight: 600;
        color: #343a40;
    }

    .preset-info {
        background: #f8f9fa;
        padding: 15px;
        border-radius: 8px;
        margin-top: 15px;
        border-left: 4px solid #6f42c1;
    }

    .preset-details {
        margin-top: 10px;
    }

    .preset-details div {
        margin-bottom: 8px;
        padding: 5px 0;
    }

    @media (max-width: 768px) {
        .form-container {
            padding: 20px;
        }

        nav {
            text-align: center;
        }

        nav a {
            display: inline-block;
            margin: 5px;
            padding: 0.5rem 1rem;
            font-size: 0.9rem;
        }

        .btn-group {
            flex-direction: column;
        }

        .checkbox-group {
            flex-direction: column;
            gap: 10px;
        }

        .info-grid {
            grid-template-columns: 1fr;
        }

        h1 {
            font-size: 1.5rem;
        }
    }
  </style>
</head>
<body>
<nav>
  <a href="/films">–§–∏–ª—å–º—ã</a>
  <a href="/halls">–ó–∞–ª—ã</a>
  <a href="/sessions">–°–µ–∞–Ω—Å—ã</a>
  <a href="/tickets">–ë–∏–ª–µ—Ç—ã</a>
  <a href="/orders" class="active">–ó–∞–∫–∞–∑—ã</a>
  <a href="/users">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</a>
</nav>

<div class="form-container">
  <h1>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ª–∞</h1>

  <!-- –°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö -->
  <div th:if="${error}" class="alert alert-error">
    <span th:text="${error}"></span>
  </div>

  <!-- –¢–µ–∫—É—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–ª–µ -->
  <div class="current-hall-info">
    <h3>–¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–∞–ª–∞</h3>
    <div class="info-grid">
      <div class="info-item">
        <span class="info-label">ID –∑–∞–ª–∞:</span>
        <span class="info-value" th:text="${hall.hallId}">ID</span>
      </div>
      <div class="info-item">
        <span class="info-label">–¢–∏–ø –∑–∞–ª–∞:</span>
        <span class="info-value" th:text="${hall.hallType}">–¢–∏–ø</span>
      </div>
      <div class="info-item">
        <span class="info-label">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–µ—Å—Ç:</span>
        <span class="info-value" th:text="${hall.numberSeats}">–ú–µ—Å—Ç–∞</span>
      </div>
      <div class="info-item">
        <span class="info-label">–†–∞–∑–º–µ—Ä —ç–∫—Ä–∞–Ω–∞:</span>
        <span class="info-value" th:text="${hall.screenSize} + ' –º'">–≠–∫—Ä–∞–Ω</span>
      </div>
      <div class="info-item">
        <span class="info-label">–û—Å–Ω–∞—â–µ–Ω–∏–µ:</span>
        <span class="info-value">
                    <span th:if="${hall.has3d}">3D</span>
                    <span th:if="${hall.has3d and hall.hasDolby}"> + </span>
                    <span th:if="${hall.hasDolby}">Dolby</span>
                    <span th:if="${!hall.has3d and !hall.hasDolby}">-</span>
                </span>
      </div>
    </div>
  </div>

  <form th:action="@{/halls/edit/{id}(id=${hall.hallId})}" th:object="${hall}" method="post">
    <input type="hidden" th:field="*{hallId}" />

    <div class="form-group">
      <label for="hallType">–í—ã–±–µ—Ä–∏—Ç–µ –Ω–æ–≤—ã–π —Ç–∏–ø –∑–∞–ª–∞:</label>
      <select id="hallType" th:field="*{hallType}" required onchange="showPresetInfo(this.value)">
        <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –∑–∞–ª–∞ --</option>
        <option value="STANDARD">üé¨ STANDARD - –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∫–∏–Ω–æ–∑–∞–ª</option>
        <option value="VIP">‚≠ê VIP - –ü—Ä–µ–º–∏—É–º –∫–æ–º—Ñ–æ—Ä—Ç</option>
        <option value="IMAX">üéûÔ∏è IMAX - –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è IMAX</option>
        <option value="PREMIUM">üëë PREMIUM - –ü—Ä–µ–º–∏–∞–ª—å–Ω—ã–π –∑–∞–ª</option>
        <option value="DELUXE">üíé DELUXE - –£–ª—É—á—à–µ–Ω–Ω—ã–π –∑–∞–ª</option>
      </select>

      <div id="presetInfo" class="preset-info" style="display: none;">
        <strong>–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–∞–ª–∞:</strong>
        <div id="presetDetails" class="preset-details"></div>
      </div>
    </div>

    <div class="form-group">
      <label for="numberSeats">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–µ—Å—Ç:</label>
      <input type="number" id="numberSeats" th:field="*{numberSeats}" min="1" required>
    </div>

    <div class="form-group">
      <label for="screenSize">–†–∞–∑–º–µ—Ä —ç–∫—Ä–∞–Ω–∞ (–º–µ—Ç—Ä—ã):</label>
      <input type="number" id="screenSize" th:field="*{screenSize}" min="0" step="0.1" placeholder="0.0">
    </div>

    <div class="form-group">
      <label>–û—Å–Ω–∞—â–µ–Ω–∏–µ:</label>
      <div class="checkbox-group">
        <div class="checkbox-item">
          <input type="checkbox" id="has3d" th:field="*{has3d}">
          <label for="has3d">3D</label>
        </div>
        <div class="checkbox-item">
          <input type="checkbox" id="hasDolby" th:field="*{hasDolby}">
          <label for="hasDolby">Dolby Sound</label>
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="description">–û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–ª–∞:</label>
      <textarea id="description" th:field="*{description}" rows="4"
                placeholder="–í–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–ª–∞ (—Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ, –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏ —Ç.–¥.)"></textarea>
    </div>

    <div class="btn-group">
      <button type="submit" class="btn btn-primary">–û–±–Ω–æ–≤–∏—Ç—å –∑–∞–ª</button>
      <a href="/halls" class="btn btn-secondary">–û—Ç–º–µ–Ω–∞</a>
    </div>
  </form>
</div>

<script>
  const presets = {
      'STANDARD': {
          name: 'STANDARD',
          seats: '100 –º–µ—Å—Ç',
          screen: '–≠–∫—Ä–∞–Ω: 10–º',
          features: '–û—Å–Ω–∞—â–µ–Ω–∏–µ: –±–µ–∑ 3D, –±–µ–∑ Dolby',
          description: '–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∫–∏–Ω–æ–∑–∞–ª'
      },
      'VIP': {
          name: 'VIP',
          seats: '50 –º–µ—Å—Ç',
          screen: '–≠–∫—Ä–∞–Ω: 12–º',
          features: '–û—Å–Ω–∞—â–µ–Ω–∏–µ: 3D + Dolby Sound',
          description: 'VIP –∑–∞–ª —Å –ø–æ–≤—ã—à–µ–Ω–Ω—ã–º –∫–æ–º—Ñ–æ—Ä—Ç–æ–º'
      },
      'IMAX': {
          name: 'IMAX',
          seats: '200 –º–µ—Å—Ç',
          screen: '–≠–∫—Ä–∞–Ω: 22–º',
          features: '–û—Å–Ω–∞—â–µ–Ω–∏–µ: 3D + Dolby Sound',
          description: '–ó–∞–ª —Å —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–µ–π IMAX'
      },
      'PREMIUM': {
          name: 'PREMIUM',
          seats: '80 –º–µ—Å—Ç',
          screen: '–≠–∫—Ä–∞–Ω: 15–º',
          features: '–û—Å–Ω–∞—â–µ–Ω–∏–µ: 3D + Dolby Sound',
          description: '–ü—Ä–µ–º–∏–∞–ª—å–Ω—ã–π –∫–∏–Ω–æ–∑–∞–ª'
      },
      'DELUXE': {
          name: 'DELUXE',
          seats: '120 –º–µ—Å—Ç',
          screen: '–≠–∫—Ä–∞–Ω: 18–º',
          features: '–û—Å–Ω–∞—â–µ–Ω–∏–µ: 3D',
          description: '–£–ª—É—á—à–µ–Ω–Ω—ã–π –∑–∞–ª Deluxe'
      }
  };

  function showPresetInfo(hallType) {
      const infoDiv = document.getElementById('presetInfo');
      const detailsDiv = document.getElementById('presetDetails');

      if (hallType && presets[hallType]) {
          const preset = presets[hallType];
          detailsDiv.innerHTML = `
              <div>üéØ <strong>${preset.name}</strong></div>
              <div>ü™ë ${preset.seats}</div>
              <div>üì∫ ${preset.screen}</div>
              <div>‚ö° ${preset.features}</div>
              <div>üìù ${preset.description}</div>
          `;
          infoDiv.style.display = 'block';
      } else {
          infoDiv.style.display = 'none';
      }
  }

  // –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ, –µ—Å–ª–∏ —É–∂–µ –≤—ã–±—Ä–∞–Ω —Ç–∏–ø
  document.addEventListener('DOMContentLoaded', function() {
      const hallTypeSelect = document.getElementById('hallType');
      if (hallTypeSelect.value) {
          showPresetInfo(hallTypeSelect.value);
      }
  });
</script>
</body>
</html>